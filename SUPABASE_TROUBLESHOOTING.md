# ๐ง ุญู ูุดุงูู ุญูุธ ุงูุจูุงูุงุช ูู Supabase

## ๐จ ุงูุฎุทุฃ ุงูุญุงูู: "[object Object]"

ูุฐุง ุงูุฎุทุฃ ูุญุฏุซ ุนูุฏูุง ูุง ูุชู ุนุฑุถ ุชูุงุตูู ุงูุฎุทุฃ ุจุดูู ุตุญูุญ. ุชู ุฅุตูุงุญ ูุฐุง ูุณุชุธูุฑ ุงูุขู ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ.

## ๐ ุงูุชุดุฎูุต ุงูุณุฑูุน

### ูู Console ุงููุชุตูุญ:

```javascript
// ุชุดุฎูุต ุณุฑูุน
quickSupabaseFix();

// ุชุดุฎูุต ูุชูุฏู
quickSupabaseDiagnosis();
```

## ๐๏ธ ุงูุญููู ุงูุดุงุฆุนุฉ

### 1. โ **"relation does not exist"**

**ุงูุณุจุจ**: ุงูุฌุฏุงูู ุบูุฑ ููุฌูุฏุฉ ู๏ฟฝ๏ฟฝ Supabase

**ุงูุญู**:

1. ุงูุชูู ุฅูู [Supabase Dashboard](https://app.supabase.com)
2. ุงุฎุชุฑ ูุดุฑูุนู โ SQL Editor
3. ุงูุณุฎ ูุงูุตู ูุญุชูู `database/schema.sql`
4. ุงุถุบุท Run

### 2. โ **"JWT malformed" ุฃู "Invalid API key"**

**ุงูุณุจุจ**: ููุชุงุญ API ุฎุงุทุฆ

**ุงูุญู**:

1. ูู Supabase Dashboard โ Settings โ API
2. ุงูุณุฎ `Project URL` ู `anon public key`
3. ุญุฏุซ ูู `src/lib/supabase.ts`:

```typescript
const supabaseUrl = "https://[PROJECT-ID].supabase.co";
const supabaseKey = "[ANON-KEY]";
```

### 3. โ **"Row Level Security policy"**

**ุงูุณุจุจ**: ุณูุงุณุงุช ุงูุฃูุงู ุชููุน ุงููุตูู

**ุงูุญู** - ูู Supabase SQL Editor:

```sql
-- ุฅูุดุงุก ุณูุงุณุงุช ููุชูุญุฉ (ููุชุทููุฑ)
CREATE POLICY "Allow all access" ON subscribers FOR ALL USING (true);
CREATE POLICY "Allow all access" ON course_points FOR ALL USING (true);
CREATE POLICY "Allow all access" ON diet_items FOR ALL USING (true);
CREATE POLICY "Allow all access" ON groups FOR ALL USING (true);
CREATE POLICY "Allow all access" ON group_items FOR ALL USING (true);
CREATE POLICY "Allow all access" ON products FOR ALL USING (true);
CREATE POLICY "Allow all access" ON sales FOR ALL USING (true);
CREATE POLICY "Allow all access" ON sale_items FOR ALL USING (true);
CREATE POLICY "Allow all access" ON access_keys FOR ALL USING (true);
```

### 4. โ **"Foreign key constraint"**

**ุงูุณุจุจ**: ูุดููุฉ ูู ุชุฑุชูุจ ุฅูุดุงุก ุงูุจูุงูุงุช

**ุงูุญู**: ุชู ุฅุตูุงุญ ูุฐุง ุชููุงุฆูุงู ุจุฌุนู ุฅูุดุงุก ุงูุจูุงูุงุช ูุชุณูุณู

### 5. โ **"CORS policy blocked"**

**ุงูุณุจุจ**: ูุทุงูู ุบูุฑ ูุณููุญ ูู Supabase

**ุงูุญู**:

1. ูู Supabase Dashboard โ Settings โ API
2. ุฃุถู ูุทุงูู ูู `Site URL`
3. ุฃู ุฃุถู `*` ููุณูุงุญ ุจุฌููุน ุงููุทุงูุงุช (ููุชุทููุฑ ููุท)

## ๐ง ุฃุฏูุงุช ุงูุชุดุฎูุต ุงูุฌุฏูุฏุฉ

### 1. **ุฒุฑ ุงูุชุดุฎูุต ุงูุซุงุจุช**

- ููุฌูุฏ ุฃุณูู ูุณุงุฑ ูู ุตูุญุฉ
- ูุนุฑุถ ุญุงูุฉ ููุตูุฉ ูููุธุงู
- ููุชุฑุญ ุญููู ูููุดุงูู

### 2. **ุงูุชุดุฎูุต ุงููุชูุฏู**

- ูุฎุชุจุฑ ูู ุฌุฏูู ุนูู ุญุฏุฉ
- ูุฎุชุจุฑ ุตูุงุญูุงุช ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ
- ูุฎุชุจุฑ Foreign Key constraints

### 3. **ุงูุฅุตูุงุญ ุงูุชููุงุฆู**

- ูุญุงูู ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ
- ููุฒุงูู ุงูุจูุงูุงุช ุงููุนููุฉ
- ููุธู ุงูุจูุงูุงุช ุงูุชุงููุฉ

## ๐ ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุฌุฏูุฏุฉ

ุจุฏูุงู ูู `[object Object]`ุ ุณุชุธูุฑ ุฑุณุงุฆู ูุงุถุญุฉ:

```
โ ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช: ุงูุฌุฏุงูู ุบูุฑ ููุฌูุฏุฉ
โ ุฎุทุฃ ูู ุงูุงุชุตุงู: ููุชุงุญ API ุบูุฑ ุตุญูุญ
โ ุฎุทุฃ ูู ุงูุดุจูุฉ: ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
โ ุฎุทุฃ ูู ุงูุนูุงูุงุช: ูุดููุฉ ูู ุฑุจุท ุงูุจูุงูุงุช
```

## ๐ฏ ุฎุทูุงุช ุงูุฅุตูุงุญ ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุชุดุฎูุต ุงููุดููุฉ

```javascript
// ูู Console
quickSupabaseFix();
```

### ุงูุฎุทูุฉ 2: ุชุญูู ูู ุงูุฌุฏุงูู

1. ุงูุชูู ุฅูู Supabase Dashboard
2. Database โ Tables
3. ุชุฃูุฏ ูู ูุฌูุฏ 9 ุฌุฏุงูู

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุฑ ุงูุงุชุตุงู

```javascript
// ูู Console
quickSupabaseDiagnosis();
```

### ุงูุฎุทูุฉ 4: ุชุทุจูู ุงูุญููู

- ุญุณุจ ููุน ุงูุฎุทุฃุ ุงุชุจุน ุงูุญููู ุฃุนูุงู

## ๐ฑ ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

### ุนูุฏ ุธููุฑ ุฎุทุฃ:

1. **ุงุถุบุท ุฒุฑ "ุชุดุฎูุต ุงููุดููุฉ"** ูู ุฑุณุงูุฉ ุงูุฎุทุฃ
2. **ุฑุงุฌุน ุงููุชุงุฆุฌ** ูู ูุงูุฐุฉ ุงูุชุดุฎูุต
3. **ุงุถุบุท "ุฅุตูุงุญ ุชููุงุฆู"** ุฅุฐุง ุชููุฑ
4. **ุงุชุจุน ุงูุงูุชุฑุงุญุงุช** ุงููุนุฑูุถุฉ

### ูููุฑุงูุจุฉ ุงููุณุชูุฑุฉ:

- ุฑุงูุจ **ูุคุดุฑ ุงูุญุงูุฉ ุงูุณุฑูุน** ูู ุดุฑูุท ุงูุชููู
- ุชุญูู ูู **ุฒุฑ ุงูุชุดุฎูุต** ุฅุฐุง ุชุบูุฑ ูููู ููุฃุญูุฑ
- ุฑุงุฌุน **Console ุงููุชุตูุญ** ููุชูุงุตูู

## ๐ ุฅุฐุง ูู ุชุญู ุงููุดููุฉ

### ุฌูุน ุงููุนูููุงุช ููุฏุนู:

```javascript
// ุชูุฑูุฑ ุดุงูู ูููุดููุฉ
console.log("=== ุชูุฑูุฑ ุงููุดููุฉ ===");
console.log("URL:", window.location.href);
console.log("User Agent:", navigator.userAgent);
console.log("Online:", navigator.onLine);

// ุชุดุฎูุต Supabase
quickSupabaseFix().then((result) => {
  console.log("Supabase Diagnosis:", result);
});
```

### ูุนูููุงุช ูุทููุจุฉ:

1. **ููุทุฉ ุดุงุดุฉ** ูู ุฒุฑ ุงูุชุดุฎูุต
2. **ูุณุฎ ูู Console logs**
3. **ุฅุนุฏุงุฏุงุช Supabase** (ุจุฏูู ุงูููุงุชูุญ ุงูุณุฑูุฉ)
4. **ุฎุทูุงุช ุฅุนุงุฏุฉ ุฅูุชุงุฌ ุงููุดููุฉ**

---

**ูุน ูุฐู ุงูุชุญุฏูุซุงุชุ ูุฌุจ ุฃู ุชุฎุชูู ุฑุณุงุฆู "[object Object]" ูุชุธูุฑ ุชูุงุตูู ูุงุถุญุฉ ููุฃุฎุทุงุก! ๐**
